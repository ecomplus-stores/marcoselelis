(window.webpackJsonp=window.webpackJsonp||[]).push([[31,9,11],{184:function(t,i,s){"use strict";var e=s(38),o=s(51),a=s(41),r=s(35),n=s(107),c=s(52),d=s(112),l=s(40),u=s(5),p=s(11),_=s(203),h=s(204),v=s(205),f=s(39),m=s(185);const b=(t,i)=>{if("object"==typeof window){t=`productCard${t}Html`;const s="function"==typeof window[t]?window[t](i):window[t];if("string"==typeof s)return s}};var y={name:"ProductCard",components:{ALink:_.a,APicture:h.a,APrices:v.a},props:{product:Object,productId:String,isSmall:Boolean,headingTag:{type:String,default:"h3"},buyText:String,transitionClass:{type:String,default:"animated fadeIn"},canAddToCart:{type:Boolean,default:!0},ecomPassport:{type:Object,default:()=>f.default},accountUrl:{type:String,default:"/app/#/account/"},isLoaded:Boolean,installmentsOption:Object,discountOption:Object},data:()=>({body:{},isLoading:!1,isWaitingBuy:!1,isHovered:!1,isFavorite:!1,error:""}),computed:{i19addToFavorites:()=>Object(o.a)(e.m),i19outOfStock:()=>Object(o.a)(e.Rc),i19unavailable:()=>Object(o.a)(e.ie),i19uponRequest:()=>"Sob consulta",isWithoutPrice(){return!Object(a.a)(this.body)},ratingHtml(){return b("Rating",this.body)},buyHtml(){return b("Buy",this.body)},footerHtml(){return b("Footer",this.body)},name(){return Object(r.a)(this.body)},strBuy(){return this.buyText||"object"==typeof window&&window.productCardBuyText||Object(o.a)(e.z)},isInStock(){return Object(n.a)(this.body)},isActive(){return this.body.available&&this.body.visible&&this.isInStock},isLogged:()=>f.default.checkAuthorization(),discount(){const{body:t}=this;return Object(c.a)(t)?Math.round(100*(t.base_price-Object(a.a)(t))/t.base_price):0}},methods:{setBody(t){this.body=Object.assign({},t),delete this.body.body_html,delete this.body.body_text,delete this.body.inventory_records,delete this.body.price_change_records,this.isFavorite=Object(m.checkFavorite)(this.body._id,this.ecomPassport),this.body.variationsGrids=Object(d.a)(this.body,{},!0)},fetchItem(){this.productId&&(this.isLoading=!0,Object(u.g)({url:`/products/${this.productId}.json`}).then((({data:t})=>{this.$emit("update:product",t),this.setBody(t),this.$emit("update:is-loaded",!0)})).catch((t=>{console.error(t),this.body.name&&this.body.slug&&this.body.pictures||(this.error=Object(o.a)(e.W))})).finally((()=>{this.isLoading=!1})))},toggleFavorite(){this.isFavorite=Object(m.toggleFavorite)(this.body._id,this.ecomPassport)},buy(){const t=this.body;this.$emit("buy",{product:t}),this.canAddToCart&&(this.isWaitingBuy=!0,Object(u.g)({url:`/products/${t._id}.json`}).then((({data:i})=>{const e=["variations","customizations","kit_composition"];for(let t=0;t<e.length;t++){const o=i[e[t]];if(o&&o.length)return Promise.all([s.e(0),s.e(2),s.e(1),s.e(22),s.e(36)]).then(s.bind(null,485)).then((t=>{new l.a({render:s=>s(t.default,{props:{product:i}})}).$mount(this.$refs.quickview)}))}const{quantity:o,price:a}=i;p.a.addProduct({...t,quantity:o,price:a})})).catch((i=>{console.error(i),window.location=`/${t.slug}`})).finally((()=>{this.isWaitingBuy=!1})))}},created(){this.product&&(this.setBody(this.product),void 0===this.product.available&&(this.body.available=!0),void 0===this.product.visible&&(this.body.visible=!0)),this.isLoaded||this.fetchItem(),void 0!==window.productListColors&&window.productListColors(this.body._id)},mounted(){void 0!==window.productListColors&&window.productListColors(this.body._id)}};i.a=y},185:function(t,i,s){"use strict";s.r(i),s.d(i,"toggleFavorite",(function(){return o})),s.d(i,"checkFavorite",(function(){return a}));s(8);var e=s(39);const o=(t,i=e.default)=>{const s=i.getCustomer(),o=new EcomSearch,r=s.favorites||[],n=a(t,i);if(console.log("favorite-products",s.favorites,!!s.favorites),s.display_name){if(n){const i=r.indexOf(t);r.splice(i,1),window.messageBullet("Removido dos favoritos")}else r.push(t),window.messageBullet("Adicionado aos favoritos");return i.requestApi("/me.json","patch",{favorites:r}),o.setProductIds(r).fetch().then((t=>{$(".favorite-count").text(t.hits.hits.length)})),!n}{let i=localStorage.getItem("apxLocalFavorites");if(i=i?JSON.parse(i):[],n){const s=i.indexOf(t);i.splice(s,1),window.messageBullet("Removido dos favoritos")}else i.push(t),window.messageBullet("Adicionado aos favoritos");return localStorage.setItem("apxLocalFavorites",JSON.stringify(i)),o.setProductIds(i).fetch().then((t=>{$(".favorite-count").text(t.hits.hits.length)})),!n}},a=(t,i)=>{if(i.getCustomer().display_name){const{favorites:s}=i.getCustomer();return s&&s.includes(t)}{let i=localStorage.getItem("apxLocalFavorites");return i=null==i?[]:JSON.parse(i),i&&i.includes(t)}}},193:function(t,i,s){"use strict";s.d(i,"a",(function(){return e})),s.d(i,"b",(function(){return o}));var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"prices",class:{"prices--literal":t.isLiteral,"prices--big":t.isBig}},[t.comparePrice?s("span",{staticClass:"prices__compare"},[t.isLiteral?[s("small",[t._v(" "+t._s(t.i19from)+" ")]),s("s",[t._v(t._s(t.formatMoney(t.comparePrice)))]),s("small",[t._v(" "+t._s(t.i19to)+" ")])]:s("s",[t._v(t._s(t.formatMoney(t.comparePrice)))])],2):t._e(),s("strong",{staticClass:"prices__value"},[t.hasVariedPrices?s("small",[t._v(" "+t._s(t.i19asOf)+" ")]):t._e(),0==parseInt(t.formatMoney(t.price).split(",")[1])?s("span",[t._v(" "+t._s(t.formatMoney(t.price).split(",")[0])+" ")]):s("span",[t._v(" "+t._s(t.formatMoney(t.price))+" ")])]),s("transition-group",{attrs:{"enter-active-class":"animated slideInDown"}},[t.earnPointsFactor>0&&!(t.pointsMinPrice>t.price)?s("div",{key:"points",staticClass:"prices__points"},[s("i",{staticClass:"i-check-circle"}),t._v(" "+t._s(t.i19youEarn)+" "),s("span",[t._v(" +"+t._s((t.earnPointsFactor*t.price).toFixed(1))+" ")]),s("em",[t._v(t._s(t.pointsProgramName))])]):t._e(),t.installmentsNumber>1&&t.installmentValue?s("div",{key:"installments",staticClass:"prices__installments"},[t.isLiteral?s("small",[t._v(" "+t._s(t.i19upTo)+" ")]):t._e(),t._v(" "+t._s(t.installmentsNumber)+"x "),t.isLiteral?s("small",[t._v(" "+t._s(t.i19of)+" ")]):t._e(),s("span",[t._v(" "+t._s(t.formatMoney(t.installmentValue))+" ")]),!t.monthlyInterest&&t.isLiteral?s("small",[t._v(" "+t._s(t.i19interestFree)+" ")]):t._e()]):t._e(),"number"==typeof t.priceWithDiscount&&t.priceWithDiscount<t.price?s("div",{key:"discount",staticClass:"prices__discount"},["string"==typeof t.discountLabel&&t.discountLabel?[s("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")]),s("small",{staticClass:"prices__discount-label"},[t._v(" "+t._s(t.discountLabel)+" ")])]:[s("small",[t._v(" "+t._s(t.i19asOf)+" ")]),s("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")])]],2):t._e()])],1)},o=[]},195:function(t,i,s){"use strict";s.d(i,"a",(function(){return e})),s.d(i,"b",(function(){return o}));var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"product-card",class:{"product-card--inactive":t.body._id&&!t.isActive,"product-card--small":t.isSmall},attrs:{"data-product-id":t.body._id,"data-sku":t.body.sku},on:{mouseover:function(i){t.isHovered=!0}}},[s("transition",{attrs:{"enter-active-class":t.transitionClass}},[t.isLoading?t._e():s("section",[t._t("discount-tag",(function(){return[t.isActive&&t.discount>0?s("span",{staticClass:"product-card__offer-stamp"},[s("i",{staticClass:"i-arrow-down"}),t._v(" "),s("b",[t._v(t._s(t.discount))]),t._v("% ")]):t._e()]}),null,{discount:t.discount}),t._t("stamps"),t._t("body",(function(){return[t._t("header"),s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[s("div",{staticClass:"product-card__pictures"},[t.body.pictures&&t.body.pictures.length?t._l(t.body.pictures.slice(0,1).reverse(),(function(t,i){return s("a-picture",{key:i,staticClass:"product-card__picture",attrs:{src:t,"can-calc-height":!1}})})):s("a-picture",{staticClass:"product-card__picture"})],2)]),t._t("favorite",(function(){return[s("a",{staticClass:"btn product-card__favorite fade",attrs:{href:null},on:{click:t.toggleFavorite}},[s("i",{class:t.isFavorite?"active":null},[s("svg",{attrs:{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M15.3147 2.00182C13.6705 0.356817 11.0038 0.356816 9.35962 2.00182L8.54826 2.81318L7.73689 2.00182C6.09244 0.357364 3.42626 0.357365 1.7818 2.00182C0.137348 3.64627 0.137349 6.31246 1.7818 7.95691L2.59316 8.76827L8.54826 14.7234L14.5033 8.76827L15.3147 7.95691C16.9597 6.31268 16.9597 3.64604 15.3147 2.00182Z",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}})])])])]}))]})),s("div",{staticClass:"mt-3"},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"d-flex justify-content-between d-prices"},[s("div",{staticClass:"d-flex d-colors"},[s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("title",(function(){return[s(t.headingTag,{tag:"component",staticClass:"product-card__name",domProps:{innerHTML:t._s(t.name)}})]}))],2),s("div",{staticClass:"product-card_colors",attrs:{"data-product":JSON.stringify(t.body)}})],1),s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t.isWithoutPrice?t._t("without-price",(function(){return[s("p",{staticClass:"badge badge-info mt-auto"},[t._v(" "+t._s(t.i19uponRequest)+" ")])]})):[t._t("prices",(function(){return[s("a-prices",{staticClass:"product-card__prices mt-2",attrs:{product:t.body,"installments-option":t.installmentsOption,"discount-option":t.discountOption}})]})),t._e()]],2)],1),s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("rating",(function(){return[t._m(0)]})),t.body.available&&t.body.visible?t.isInStock?t._e():t._t("out-of-stock",(function(){return[s("p",{staticClass:"badge badge-dark mt-auto"},[t._v(" "+t._s(t.i19outOfStock)+" ")])]})):t._t("unavailable",(function(){return[s("p",{staticClass:"badge badge-warning mt-auto"},[t._v(" "+t._s(t.i19unavailable)+" ")])]}))],2)],1)]),t._t("footer",(function(){return[t.footerHtml?s("div",{domProps:{innerHTML:t._s(t.footerHtml)}}):t._e()]}))],2)]),t.isLoading?[t._t("default"),t.error?s("div",{staticClass:"alert alert-warning small",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" ")]):t._e()]:t._e(),s("div",{ref:"quickview"})],2)},o=[function(){var t=this,i=t.$createElement;return(t._self._c||i)("div",{staticClass:"product-card__rating",attrs:{"data-sku":t.body.sku},domProps:{innerHTML:t._s(t.ratingHtml)}})}]}}]);